<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 72</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:10px;font-family:DejaVuSerif;color:#000000;}
	.ft01{font-size:9px;font-family:DejaVuSansMono;color:#000000;}
	.ft02{font-size:9px;font-family:DejaVuSansMono;color:#303030;}
	.ft03{font-size:10px;font-family:DejaVuSansMono;color:#000000;}
	.ft04{font-size:10px;font-family:DejaVuSerif;color:#00008b;}
	.ft05{font-size:8px;font-family:DejaVuSerif;color:#000000;}
	.ft06{font-size:8px;font-family:DejaVuSansMono;color:#ff0000;}
	.ft07{font-size:8px;font-family:DejaVuSansMono;color:#a52a2a;}
	.ft08{font-size:8px;font-family:DejaVuSansMono;color:#000000;}
	.ft09{font-size:7px;font-family:DejaVuSansMono;color:#000000;}
	.ft010{font-size:8px;font-family:DejaVuSansMono;color:#008000;}
	.ft011{font-size:10px;font-family:DejaVuSerif;color:#0000ee;}
	.ft012{font-size:10px;line-height:11px;font-family:DejaVuSerif;color:#000000;}
	.ft013{font-size:10px;line-height:12px;font-family:DejaVuSerif;color:#000000;}
	.ft014{font-size:8px;line-height:10px;font-family:DejaVuSansMono;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page72-div" style="position:relative;width:892px;height:1263px;">
<img width="892" height="1263" src="ALL-07052021072.png" alt="background image"/>
<p style="position:absolute;top:54px;left:59px;white-space:nowrap" class="ft00">the&#160;following&#160;command:</p>
<p style="position:absolute;top:76px;left:59px;white-space:nowrap" class="ft01"><b>&gt;&#160;ps&#160;ax|grep&#160;&#34;X[^/]*&#160;&#34;</b></p>
<p style="position:absolute;top:87px;left:59px;white-space:nowrap" class="ft02">1959&#160;tty7&#160;&#160;&#160;&#160;&#160;Ss+&#160;&#160;&#160;75:16&#160;/usr/bin/Xorg&#160;-br&#160;-nolisten&#160;tcp&#160;:0&#160;vt7&#160;-auth&#160;/var/lib/xdm/authdir/authfiles/A:0-EgqjEQ</p>
<p style="position:absolute;top:109px;left:74px;white-space:nowrap" class="ft00">Replicating&#160;the&#160;appropriate&#160;socket&#160;and&#160;setting&#160;$DISPLAY&#160;to&#160;the&#160;socket/display&#160;number&#160;is&#160;not&#160;the&#160;only&#160;thing&#160;you&#160;will&#160;have&#160;to&#160;do.&#160;X&#160;servers&#160;use&#160;to&#160;use&#160;an</p>
<p style="position:absolute;top:121px;left:59px;white-space:nowrap" class="ft012">additional&#160;&#160;authentication&#160;&#160;mechanism&#160;&#160;based&#160;&#160;on&#160;&#160;cookies.&#160;&#160;The&#160;&#160;cookies&#160;&#160;are&#160;&#160;transmitted&#160;&#160;unencrypted&#160;&#160;to&#160;&#160;the&#160;&#160;X&#160;&#160;server&#160;&#160;so&#160;&#160;that&#160;&#160;they&#160;&#160;can&#160;&#160;be&#160;&#160;eavesdropped&#160;&#160;by<br/>anyone&#160;listening&#160;on&#160;the&#160;local&#160;network.&#160;Thus&#160;you&#160;may&#160;want&#160;to&#160;establish&#160;an&#160;ssh&#160;or&#160;vpn&#160;tunnel&#160;whenever&#160;you&#160;connect&#160;to&#160;a&#160;remote&#160;X&#160;server&#160;in&#160;order&#160;not&#160;to<br/>allow&#160;&#160;any&#160;&#160;other&#160;&#160;user&#160;&#160;access&#160;&#160;to&#160;&#160;the&#160;&#160;same&#160;&#160;X&#160;&#160;server&#160;&#160;who&#160;&#160;listens&#160;&#160;on&#160;&#160;the&#160;&#160;same&#160;&#160;net.&#160;&#160;Nonetheless&#160;&#160;this&#160;&#160;authentication&#160;&#160;mechanism&#160;&#160;can&#160;&#160;be&#160;&#160;used&#160;&#160;securely&#160;&#160;for<br/>different&#160;users&#160;on&#160;the&#160;same&#160;machine&#160;and&#160;whenever&#160;you&#160;do&#160;only&#160;interconnect&#160;two&#160;machines&#160;mutually&#160;by&#160;a&#160;non-eavesdroppable&#160;point&#160;to&#160;point&#160;connection.</p>
<p style="position:absolute;top:179px;left:74px;white-space:nowrap" class="ft00">Now&#160;&#160;in&#160;&#160;practice&#160;&#160;the&#160;&#160;file&#160;&#160;that&#160;&#160;stores&#160;&#160;the&#160;&#160;cookie&#160;&#160;for&#160;&#160;authentication&#160;&#160;with&#160;&#160;the&#160;&#160;X-server&#160;&#160;defaults&#160;&#160;either&#160;&#160;to&#160;&#160;~/.Xauthority&#160;&#160;or&#160;&#160;whenever&#160;&#160;the&#160;&#160;$XAUTHORITY</p>
<p style="position:absolute;top:191px;left:59px;white-space:nowrap" class="ft012">variable&#160;is&#160;set&#160;then&#160;it&#160;holds&#160;the&#160;path&#160;and&#160;file&#160;name&#160;of&#160;the&#160;Xauthority&#160;file.&#160;The&#160;access&#160;rights&#160;of&#160;these&#160;files&#160;need&#160;to&#160;be&#160;chosen&#160;in&#160;a&#160;way&#160;so&#160;that&#160;other&#160;users&#160;can<br/>not&#160;read&#160;or&#160;write&#160;to&#160;them.&#160;You&#160;may&#160;simply&#160;copy&#160;these&#160;files&#160;though&#160;the&#160;correct&#160;way&#160;for&#160;adding&#160;entries&#160;to&#160;these&#160;files&#160;goes&#160;via&#160;an&#160;</p>
<p style="position:absolute;top:203px;left:723px;white-space:nowrap" class="ft03"><b>xauth&#160;extract</b></p>
<p style="position:absolute;top:203px;left:802px;white-space:nowrap" class="ft00">&#160;and&#160;</p>
<p style="position:absolute;top:203px;left:829px;white-space:nowrap" class="ft03"><b>xauth</b></p>
<p style="position:absolute;top:214px;left:59px;white-space:nowrap" class="ft03"><b>merge</b></p>
<p style="position:absolute;top:214px;left:89px;white-space:nowrap" class="ft00">.</p>
<p style="position:absolute;top:236px;left:74px;white-space:nowrap" class="ft00">Furthermore&#160;as&#160;already&#160;discuessed&#160;programs&#160;like&#160;grub&#160;or&#160;gparted&#160;need&#160;direct&#160;access&#160;to&#160;your&#160;disk&#160;devices&#160;at&#160;/dev.&#160;You&#160;may&#160;simply&#160;mirror&#160;your&#160;/dev&#160;to</p>
<p style="position:absolute;top:248px;left:59px;white-space:nowrap" class="ft00">/dst/my-distro/dev&#160;in&#160;this&#160;example&#160;before&#160;you&#160;issue&#160;a&#160;chroot&#160;which&#160;can&#160;be&#160;accomplished&#160;by&#160;</p>
<p style="position:absolute;top:248px;left:538px;white-space:nowrap" class="ft03"><b>mount&#160;--bind&#160;/dev&#160;/dst/my-distro/dev</b></p>
<p style="position:absolute;top:248px;left:759px;white-space:nowrap" class="ft00">.&#160;Proceed&#160;the&#160;same</p>
<p style="position:absolute;top:260px;left:59px;white-space:nowrap" class="ft012">way&#160;&#160;for&#160;&#160;your&#160;&#160;/sys&#160;&#160;and&#160;&#160;/proc&#160;&#160;directory&#160;&#160;which&#160;&#160;are&#160;&#160;required&#160;&#160;by&#160;&#160;many&#160;&#160;programs&#160;&#160;as&#160;&#160;an&#160;&#160;additional&#160;&#160;interface&#160;&#160;to&#160;&#160;expose&#160;&#160;and&#160;&#160;set&#160;&#160;kernel&#160;&#160;data.&#160;&#160;Note&#160;&#160;that&#160;&#160;also<br/>subdirectories&#160;may&#160;require&#160;their&#160;own&#160;mounts&#160;as&#160;/dev/pts/*&#160;for&#160;terminals.</p>
<p style="position:absolute;top:302px;left:59px;white-space:nowrap" class="ft04"><b>xchroot&#160;-&#160;an&#160;extended&#160;version&#160;of&#160;chroot</b></p>
<p style="position:absolute;top:326px;left:74px;white-space:nowrap" class="ft00">Simply&#160;use&#160;</p>
<p style="position:absolute;top:325px;left:133px;white-space:nowrap" class="ft00">xchroot&#160;instead&#160;to&#160;accomplish&#160;all&#160;these&#160;tasks&#160;automatically:</p>
<p style="position:absolute;top:348px;left:59px;white-space:nowrap" class="ft01"><b>&gt;&#160;xchroot&#160;/dst/debian&#160;</b></p>
<p style="position:absolute;top:369px;left:74px;white-space:nowrap" class="ft00">In&#160;a&#160;fact&#160;xchroot&#160;will&#160;do&#160;a&#160;whole&#160;lot&#160;more&#160;than&#160;the&#160;minimal&#160;provisions&#160;we&#160;have&#160;just&#160;discussed.&#160;Here&#160;is&#160;an&#160;overview&#160;of&#160;what&#160;xchroot&#160;can&#160;do&#160;for&#160;you:</p>
<p style="position:absolute;top:391px;left:74px;white-space:nowrap" class="ft00">xchroot&#160;will&#160;mount&#160;your&#160;new&#160;root&#160;filesystem&#160;and&#160;all&#160;sub-partitions&#160;as&#160;for&#160;/var&#160;/tmp&#160;/usr&#160;automatically,&#160;provided&#160;that&#160;they&#160;are&#160;listed&#160;in&#160;your&#160;/etc/fstab&#160;</p>
<p style="position:absolute;top:391px;left:837px;white-space:nowrap" class="ft00">(you</p>
<p style="position:absolute;top:403px;left:59px;white-space:nowrap" class="ft012">may&#160;want&#160;to&#160;specify&#160;the&#160;noauto&#160;option&#160;if&#160;a&#160;partition&#160;should&#160;not&#160;be&#160;mounted&#160;unless&#160;an&#160;xchroot&#160;is&#160;issued&#160;upon&#160;its&#160;root.).&#160;Mounting&#160;an&#160;alternative&#160;distro&#160;not<br/>before&#160;&#160;actually&#160;&#160;using&#160;&#160;it&#160;&#160;may&#160;&#160;f.i.&#160;&#160;safe&#160;&#160;you&#160;&#160;from&#160;&#160;unnecessary&#160;&#160;checkdisks&#160;&#160;after&#160;&#160;crashes&#160;&#160;on&#160;&#160;bootup&#160;&#160;or&#160;&#160;will&#160;&#160;facilitate&#160;&#160;the&#160;&#160;usage&#160;&#160;of&#160;&#160;roots&#160;&#160;on&#160;&#160;removable&#160;&#160;media.<br/>xchroot&#160;will&#160;mirror&#160;/sys,&#160;/proc&#160;and&#160;/dev&#160;and&#160;most&#160;important&#160;it&#160;will&#160;leverage&#160;the&#160;usage&#160;of&#160;GUI&#160;applications&#160;(DISPLAY=:X).&#160;Furthermore&#160;unlike&#160;with&#160;chroot<br/>you&#160;may&#160;specify&#160;any&#160;program&#160;in&#160;the&#160;chroot&#160;environment&#160;if&#160;you&#160;do&#160;not&#160;just&#160;wish&#160;to&#160;execute&#160;the&#160;bash&#160;standard&#160;shell:</p>
<p style="position:absolute;top:461px;left:59px;white-space:nowrap" class="ft01"><b>&gt;&#160;xchroot&#160;/dst/debian&#160;xterm&#160;</b></p>
<p style="position:absolute;top:482px;left:74px;white-space:nowrap" class="ft00">xchroot&#160;&#160;unmounts&#160;&#160;the&#160;&#160;helper&#160;&#160;dirs&#160;&#160;(sys,proc,dev)&#160;&#160;automatically&#160;&#160;on&#160;&#160;exit&#160;&#160;independent&#160;&#160;of&#160;&#160;the&#160;&#160;mount&#160;&#160;state&#160;&#160;at&#160;&#160;invocation&#160;&#160;time.&#160;&#160;Since&#160;&#160;version&#160;&#160;2.0&#160;&#160;it&#160;&#160;uses</p>
<p style="position:absolute;top:494px;left:59px;white-space:nowrap" class="ft012">furthermore&#160;tmp-mirroring&#160;by&#160;default&#160;instead&#160;of&#160;socat-ing&#160;so&#160;that&#160;socat&#160;is&#160;no&#160;more&#160;required.&#160;Nonetheless&#160;the&#160;somewhat&#160;more&#160;secure&#160;-socat&#160;option&#160;is&#160;still<br/>available.&#160;&#160;Socat&#160;&#160;will&#160;&#160;definitely&#160;&#160;be&#160;&#160;more&#160;&#160;secure&#160;&#160;if&#160;&#160;you&#160;&#160;choose&#160;&#160;to&#160;&#160;run&#160;&#160;an&#160;&#160;own&#160;&#160;X-server&#160;&#160;for&#160;&#160;the&#160;&#160;new&#160;&#160;chroot&#160;&#160;enviroment&#160;&#160;as&#160;&#160;allowing&#160;&#160;to&#160;&#160;connect&#160;&#160;clients&#160;&#160;with<br/>different&#160;privileges&#160;to&#160;the&#160;same&#160;X-server&#160;is&#160;not&#160;recommended.</p>
<p style="position:absolute;top:540px;left:74px;white-space:nowrap" class="ft00">If&#160;any&#160;program&#160;in&#160;the&#160;chroot&#160;is&#160;still&#160;running&#160;on&#160;exit&#160;you&#160;are&#160;prompted&#160;to&#160;terminate&#160;it&#160;but&#160;you&#160;can&#160;also&#160;choose&#160;to&#160;leave&#160;all&#160;programs&#160;running.&#160;In&#160;this&#160;case</p>
<p style="position:absolute;top:552px;left:59px;white-space:nowrap" class="ft00">you&#160;need&#160;to&#160;quit&#160;these&#160;programs&#160;and&#160;umount&#160;later&#160;on&#160;by&#160;invoking&#160;</p>
<p style="position:absolute;top:552px;left:406px;white-space:nowrap" class="ft03"><b>chroot&#160;cleanup</b></p>
<p style="position:absolute;top:552px;left:492px;white-space:nowrap" class="ft00">&#160;with&#160;exactly&#160;the&#160;same&#160;parameters&#160;as&#160;before.&#160;If&#160;an&#160;xchroot/openroot&#160;is</p>
<p style="position:absolute;top:564px;left:59px;white-space:nowrap" class="ft012">already&#160;running&#160;a&#160;normal&#160;chroot&#160;should&#160;also&#160;suffice&#160;as&#160;long&#160;as&#160;you&#160;terminate&#160;the&#160;openroot/xchroot&#160;last.&#160;On&#160;the&#160;contrary&#160;there&#160;should&#160;nothing&#160;speak&#160;against<br/>invoking&#160;multiple&#160;xchroots&#160;leaving&#160;the&#160;cleanup&#160;to&#160;the&#160;xchroot&#160;terminated&#160;last&#160;(select&#160;Leave&#160;in&#160;the&#160;menu.).</p>
<p style="position:absolute;top:606px;left:59px;white-space:nowrap" class="ft04"><b>xchroot&#160;and&#160;users:&#160;the&#160;background</b></p>
<p style="position:absolute;top:630px;left:74px;white-space:nowrap" class="ft00">If&#160;you&#160;have&#160;xchroot&#160;forget&#160;all&#160;the&#160;other&#160;*chroot-s!&#160;You&#160;do&#160;not&#160;even&#160;need&#160;it&#160;to&#160;chroot&#160;as&#160;user.&#160;The&#160;--user&#160;option&#160;and&#160;sudo&#160;will&#160;serve&#160;this&#160;purpose.&#160;A&#160;simple</p>
<p style="position:absolute;top:651px;left:59px;white-space:nowrap" class="ft01"><b>&gt;&#160;xchroot&#160;-u&#160;usr&#160;/dst/debian</b></p>
<p style="position:absolute;top:673px;left:74px;white-space:nowrap" class="ft00">will&#160;do&#160;what&#160;you&#160;want&#160;provided&#160;that&#160;you&#160;execute&#160;it&#160;as&#160;root.</p>
<p style="position:absolute;top:685px;left:59px;white-space:nowrap" class="ft00">A&#160;simple&#160;entry&#160;in&#160;your&#160;/etc/sudoers&#160;leverages&#160;the&#160;use&#160;directly&#160;as&#160;user&#160;</p>
<p style="position:absolute;top:684px;left:416px;white-space:nowrap" class="ft00">usr&#160;or&#160;via&#160;/etc/sudoers:</p>
<p style="position:absolute;top:706px;left:59px;white-space:nowrap" class="ft02">usr&#160;</p>
<p style="position:absolute;top:707px;left:104px;white-space:nowrap" class="ft02">ALL=(root)&#160;NOPASSWD:&#160;/usr/sbin/xchroot&#160;[-]u&#160;</p>
<p style="position:absolute;top:706px;left:354px;white-space:nowrap" class="ft02">usr&#160;/dst/*</p>
<p style="position:absolute;top:718px;left:59px;white-space:nowrap" class="ft02">usr&#160;</p>
<p style="position:absolute;top:718px;left:104px;white-space:nowrap" class="ft02">ALL=(root)&#160;NOPASSWD:&#160;/usr/sbin/xchroot&#160;[-]u&#160;</p>
<p style="position:absolute;top:718px;left:354px;white-space:nowrap" class="ft02">usr&#160;[-]t&#160;/dst/*</p>
<p style="position:absolute;top:740px;left:74px;white-space:nowrap" class="ft00">letting&#160;you&#160;open&#160;any&#160;root&#160;under&#160;/dst&#160;as&#160;user&#160;</p>
<p style="position:absolute;top:739px;left:303px;white-space:nowrap" class="ft00">usr.&#160;</p>
<p style="position:absolute;top:741px;left:326px;white-space:nowrap" class="ft05">(instead&#160;of&#160;'ALL'&#160;a&#160;host&#160;name&#160;may&#160;be&#160;stated&#160;in&#160;case&#160;that&#160;the&#160;/etc/sudoers&#160;is&#160;distributed&#160;to&#160;many&#160;hosts&#160;but&#160;should&#160;not&#160;be&#160;allowed</p>
<p style="position:absolute;top:753px;left:59px;white-space:nowrap" class="ft05">on&#160;all&#160;of&#160;them.)</p>
<p style="position:absolute;top:752px;left:122px;white-space:nowrap" class="ft00">&#160;You&#160;will&#160;have&#160;to&#160;be&#160;extremely&#160;careful&#160;when&#160;adding&#160;sudoer&#160;entries&#160;on&#160;your&#160;own.&#160;/etc/sudoers&#160;does&#160;not&#160;use&#160;regular&#160;expressions&#160;but&#160;shell&#160;pattern</p>
<p style="position:absolute;top:763px;left:59px;white-space:nowrap" class="ft012">globbing&#160;which&#160;means&#160;that&#160;an&#160;asterisk&#160;&#34;*&#34;&#160;can&#160;stand&#160;for&#160;any&#160;combination&#160;of&#160;characters&#160;including&#160;spaces.&#160;It&#160;thus&#160;does&#160;usually&#160;only&#160;make&#160;sense&#160;to&#160;use&#160;one<br/>star&#160;per&#160;line&#160;in&#160;sudoers.</p>
<p style="position:absolute;top:797px;left:74px;white-space:nowrap" class="ft00">Now&#160;we&#160;do&#160;also&#160;want&#160;to&#160;pass&#160;user&#160;parameters&#160;to&#160;xchroot.&#160;Unfortunately&#160;we&#160;can&#160;not&#160;put&#160;these&#160;parameters&#160;in&#160;front&#160;of&#160;our&#160;root&#160;/dst/*&#160;(which&#160;stands&#160;for</p>
<p style="position:absolute;top:809px;left:59px;white-space:nowrap" class="ft012">'distribution')&#160;because&#160;otherwise&#160;we&#160;could&#160;also&#160;wildcard&#160;our&#160;root&#160;which&#160;is&#160;likely&#160;not&#160;what&#160;we&#160;want.&#160;By&#160;this&#160;reason&#160;the&#160;developers&#160;of&#160;xchroot&#160;have&#160;invented&#160;a<br/>little&#160;&#160;trick:&#160;&#160;put&#160;&#160;the&#160;&#160;-t&#160;&#160;option&#160;&#160;in&#160;&#160;front&#160;&#160;and&#160;&#160;put&#160;&#160;any&#160;&#160;option&#160;&#160;after&#160;&#160;a&#160;&#160;'--'&#160;&#160;at&#160;&#160;the&#160;&#160;end&#160;&#160;right&#160;&#160;after&#160;&#160;your&#160;&#160;root&#160;&#160;and&#160;&#160;program&#160;&#160;specification.&#160;&#160;We&#160;&#160;will&#160;&#160;show&#160;&#160;you&#160;&#160;by&#160;&#160;the<br/>following&#160;example&#160;how&#160;it&#160;works:</p>
<p style="position:absolute;top:855px;left:59px;white-space:nowrap" class="ft06">elm:</p>
<p style="position:absolute;top:855px;left:80px;white-space:nowrap" class="ft07">~&gt;</p>
<p style="position:absolute;top:855px;left:91px;white-space:nowrap" class="ft08">&#160;sudo&#160;-E&#160;xchroot&#160;-u&#160;elm&#160;-t&#160;/dst/debchroot/&#160;--&#160;--unionfs&#160;</p>
<p style="position:absolute;top:856px;left:387px;white-space:nowrap" class="ft09">(does&#160;not&#160;make&#160;use&#160;of&#160;our&#160;sudoers&#160;entry&#160;yet;&#160;just&#160;have&#160;a&#160;quick&#160;test&#160;now.)</p>
<p style="position:absolute;top:866px;left:59px;white-space:nowrap" class="ft014">-----------------------------------------------------------<br/>unionfs&#160;-o&#160;cow,max_files=32768,allow_other,suid,dev&#160;/tmp/xchroot/unionfs-debchroot-13653=RW:/dst/debchroot=RO&#160;/tmp/xchroot/mount-debchroot-13653<br/>chroot&#160;/tmp/xchroot/mount-debchroot-13653&#160;/tmp/xchroot/startup-13653<br/>Debian&#160;GNU/Linux&#160;7&#160;\n&#160;\l</p>
<p style="position:absolute;top:909px;left:59px;white-space:nowrap" class="ft010">debian_</p>
<p style="position:absolute;top:909px;left:96px;white-space:nowrap" class="ft06">elm:</p>
<p style="position:absolute;top:909px;left:117px;white-space:nowrap" class="ft07">~&gt;</p>
<p style="position:absolute;top:909px;left:128px;white-space:nowrap" class="ft08">&#160;goldendict&#160;&amp;&#160;</p>
<p style="position:absolute;top:929px;left:74px;white-space:nowrap" class="ft00">Note&#160;that&#160;we&#160;have&#160;used&#160;the&#160;unsecure&#160;-E&#160;option&#160;which&#160;is&#160;disallowed&#160;by&#160;/etc/sudoers&#160;which&#160;passes&#160;all&#160;the&#160;environment&#160;variables&#160;along&#160;to&#160;the&#160;new&#160;chroot</p>
<p style="position:absolute;top:941px;left:59px;white-space:nowrap" class="ft012">environment.&#160;&#160;In&#160;&#160;a&#160;&#160;fact&#160;&#160;the&#160;&#160;only&#160;&#160;environment&#160;&#160;variables&#160;&#160;we&#160;&#160;need&#160;&#160;to&#160;&#160;keep&#160;&#160;in&#160;&#160;order&#160;&#160;for&#160;&#160;xchroot&#160;&#160;to&#160;&#160;function&#160;&#160;are&#160;&#160;$DISPLAY,&#160;&#160;$XAUTHORITY&#160;&#160;and<br/>$XCHROOT_MYROOT.&#160;Now&#160;let&#160;us&#160;drop&#160;the&#160;-E&#160;option&#160;and&#160;merely&#160;pass&#160;along&#160;the&#160;variables&#160;we&#160;need:</p>
<p style="position:absolute;top:975px;left:74px;white-space:nowrap" class="ft06">elm:</p>
<p style="position:absolute;top:975px;left:95px;white-space:nowrap" class="ft07">~&gt;</p>
<p style="position:absolute;top:975px;left:106px;white-space:nowrap" class="ft08">&#160;sudo&#160;xchroot&#160;-u&#160;elm&#160;/dst/debchroot/&#160;--env&#160;DISPLAY=:0&#160;--env&#160;XAUTHORITY=$XAUTHORITY&#160;--env&#160;XCHROOT_MYROOT=$XCHROOT_MYROOT&#160;</p>
<p style="position:absolute;top:996px;left:74px;white-space:nowrap" class="ft00">That`s&#160;it.</p>
<p style="position:absolute;top:1018px;left:74px;white-space:nowrap" class="ft00">Oops?!&#160;Haven`t&#160;we&#160;forgotten&#160;about&#160;--&#160;before&#160;the&#160;trailing&#160;options&#160;and&#160;the&#160;-t&#160;in&#160;front?&#160;These&#160;options&#160;are&#160;not&#160;required&#160;as&#160;long&#160;as&#160;you&#160;do&#160;only&#160;use&#160;--env&#160;as</p>
<p style="position:absolute;top:1030px;left:59px;white-space:nowrap" class="ft00">tail&#160;option.&#160;Note&#160;that&#160;the&#160;--user&#160;option&#160;can&#160;not&#160;be&#160;used&#160;as&#160;tail&#160;option&#160;because&#160;that&#160;would&#160;compromize&#160;our&#160;security&#160;needs.</p>
<p style="position:absolute;top:1052px;left:74px;white-space:nowrap" class="ft00">Rather&#160;complicated?&#160;</p>
<p style="position:absolute;top:1064px;left:59px;white-space:nowrap" class="ft012">Yes&#160;it&#160;is.&#160;This&#160;is&#160;why&#160;we&#160;have&#160;invented&#160;a&#160;macro&#160;called&#160;openroot&#160;in&#160;order&#160;to&#160;xchroots&#160;more&#160;easily&#160;as&#160;user&#160;(Well&#160;we&#160;could&#160;also&#160;have&#160;called&#160;the&#160;user&#160;macro<br/>xchroot&#160;but&#160;that&#160;might&#160;have&#160;been&#160;subject&#160;to&#160;further&#160;confusion.).&#160;Get&#160;it&#160;installed&#160;into&#160;your&#160;.bashrc&#160;which&#160;executes&#160;automatically&#160;on&#160;any&#160;bash&#160;login:</p>
<p style="position:absolute;top:1098px;left:59px;white-space:nowrap" class="ft06">elm:</p>
<p style="position:absolute;top:1098px;left:80px;white-space:nowrap" class="ft07">~&gt;</p>
<p style="position:absolute;top:1098px;left:91px;white-space:nowrap" class="ft08">&#160;xchroot&#160;bashrclines</p>
<p style="position:absolute;top:1109px;left:59px;white-space:nowrap" class="ft08">openroot()&#160;{&#160;sudo&#160;/usr/sbin/xchroot&#160;-u&#160;$(whoami)&#160;&#34;$@&#34;&#160;--env&#160;XCHROOT_MYROOT=&#34;$XCHROOT_MYROOT&#34;&#160;--env&#160;XAUTHORITY=&#34;$XAUTHORITY&#34;&#160;--env&#160;DISPLAY=&#34;$DISPLAY&#34;;&#160;&#160;}</p>
<p style="position:absolute;top:1130px;left:59px;white-space:nowrap" class="ft06">elm:</p>
<p style="position:absolute;top:1130px;left:80px;white-space:nowrap" class="ft07">~&gt;</p>
<p style="position:absolute;top:1130px;left:91px;white-space:nowrap" class="ft08">&#160;mv&#160;~/.bashrc&#160;~/.oldbashrc</p>
<p style="position:absolute;top:1141px;left:59px;white-space:nowrap" class="ft06">elm:</p>
<p style="position:absolute;top:1141px;left:80px;white-space:nowrap" class="ft07">~&gt;</p>
<p style="position:absolute;top:1141px;left:91px;white-space:nowrap" class="ft08">&#160;xchroot&#160;bashrclines&#160;&gt;&gt;~/.bashrc</p>
<p style="position:absolute;top:1151px;left:59px;white-space:nowrap" class="ft06">elm:</p>
<p style="position:absolute;top:1151px;left:80px;white-space:nowrap" class="ft07">~&gt;</p>
<p style="position:absolute;top:1151px;left:91px;white-space:nowrap" class="ft08">&#160;cat&#160;~/.oldbashrc&#160;&gt;&gt;~/.bashrc</p>
<p style="position:absolute;top:1162px;left:59px;white-space:nowrap" class="ft06">elm:</p>
<p style="position:absolute;top:1162px;left:80px;white-space:nowrap" class="ft07">~&gt;</p>
<p style="position:absolute;top:1162px;left:91px;white-space:nowrap" class="ft08">&#160;source&#160;~/.bashrc</p>
<p style="position:absolute;top:290px;left:674px;white-space:nowrap" class="ft011">up</p>
<p style="position:absolute;top:290px;left:687px;white-space:nowrap" class="ft00">&#160;</p>
<p style="position:absolute;top:290px;left:690px;white-space:nowrap" class="ft011">down</p>
<p style="position:absolute;top:290px;left:718px;white-space:nowrap" class="ft00">&#160;</p>
<p style="position:absolute;top:290px;left:721px;white-space:nowrap" class="ft011">Directory</p>
<p style="position:absolute;top:290px;left:769px;white-space:nowrap" class="ft00">Menu</p>
<p style="position:absolute;top:594px;left:674px;white-space:nowrap" class="ft011">up</p>
<p style="position:absolute;top:594px;left:687px;white-space:nowrap" class="ft00">&#160;</p>
<p style="position:absolute;top:594px;left:690px;white-space:nowrap" class="ft011">down</p>
<p style="position:absolute;top:594px;left:718px;white-space:nowrap" class="ft00">&#160;</p>
<p style="position:absolute;top:594px;left:721px;white-space:nowrap" class="ft011">Directory</p>
<p style="position:absolute;top:594px;left:769px;white-space:nowrap" class="ft00">Menu</p>
</div>
</body>
</html>
